# i3 config file (v4)

# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

set $font pango:Noto Monospace 10
# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:Noto Monospace 10
#font pango:DejaVu Sans Mono 10

# Start XDG autostart .desktop files using dex. See also
exec --no-startup-id dex --autostart --environment i3

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id exec xss-lock --transfer-sleep-lock -- ~/.config/i3/sh/lock.sh
bindsym $mod+l exec --no-startup-id exec loginctl lock-session

set $w #f1f1f1
set $g #313131
# transparency, 00-ff
set $t 40

# Misc WM:
# class		border	backgr.	text	indicator	child_border
client.focused	$w	$w	$g	$w		$g
client.focused_inactive	$g $g $w $g $g
client.unfocused $g $g $w $g $g
client.urgent #2f343a #900000 $w #900000 #900000
default_border none
#hide_edge_borders both
gaps inner 25px
gaps outer 20px
#smart_gaps on
workspace_auto_back_and_forth yes

# Misc keybinds:

# start dmenu (a program launcher)
bindsym $mod+d exec --no-startup-id ~/.config/i3/sh/dmenu.sh '$g' '$w' "$font" run
# external display control
bindsym XF86Display exec --no-startup-id "~/.config/i3/sh/monitors.sh $(~/.config/i3/sh/dmenu.sh '$g' '$w' '$font' display)"
# toggle compositor effects
bindsym Ctrl+Shift+F12 exec --no-startup-id "~/.config/i3/sh/toggle-compositor.sh"
# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# screenshot tool
bindsym $mod+Shift+s exec --no-startup-id flameshot gui
bindsym Print exec --no-startup-id flameshot gui
# start a terminal
bindsym $mod+Return exec --no-startup-id exec i3-sensible-terminal

# Misc autostarts:
exec --no-startup-id exec dunst
# startup shell script
exec_always --no-startup-id "~/.config/i3/sh/startup.sh"
# Only execute once
exec --no-startup-id "~/.config/i3/sh/monitors.sh primary"
# kwallet: secrets manager
exec --no-startup-id exec kwalletd6

# refresh wallpaper
bindsym $mod+Shift+w exec --no-startup-id hsetroot $($HOME/.config/i3/sh/background.sh)

include $HOME/.config/i3/*.i3
